## 1、应用层概述



## 2、应用层协议概览

|        应用        | 应用层协议 | 端口号  | 传输层协议 |            备注             |
| :----------------: | :--------: | :-----: | :--------: | :-------------------------: |
|      域名解析      |    DNS     |   53    |  UDP/TCP   | 长度超过 512 字节时使用 TCP |
|  动态主机配置协议  |    DHCP    |  67/68  |    UDP     |                             |
|  简单网络管理协议  |    SNMP    | 161/162 |    UDP     |                             |
|    文件传送协议    |   `FTP`    |  20/21  |    TCP     |  控制连接 21，数据连接 20   |
|   超文本传送协议   |   `HTTP`   |   80    |    TCP     |                             |
|  简单邮件传送协议  |   `SMTP`   |   25    |    TCP     |                             |
|    邮件读取协议    |   `POP3`   |   110   |    TCP     |                             |
|  网际报文存取协议  |   `IMAP`   |   143   |    TCP     |                             |
|    远程终端协议    |  `TELNET`  |   23    |    TCP     |                             |
| 安全的网络传输协议 |   `SSH`    |   22    |    TCP     |                             |

### 2.1 HTTP 超文本传输协议

见后文。

### 2.2 SMTP 简单邮件传输协议

**简单邮件传输(发送)协议（`SMTP`，Simple Mail Transfer Protocol）** 基于 `TCP` 协议，用来`发送`电子邮件。

SMTP 协议主要涉及两个问题：

#### 电子邮件的发送过程

比如通过 `abc@163.com` 向 `xyz@qq.com` 发送邮件：

1. 通过 `SMTP` 协议，将邮件提交给 `163` 邮箱服务器（邮局）
2. `163` 邮箱服务器发现该邮件的收件箱是`qq`邮箱，则使用 `SMTP` 协议将邮件转发到 `qq` 邮箱服务器。
3. `qq`邮箱服务器接收邮件之后，通知邮箱为 `xyz@qq.com` 的用户收邮件，用户通过 `POP3/IMAP` 协议将邮件取出。

#### 邮箱存在与否的判断

1. 查找邮箱域名对应的 SMTP 服务器地址
2. 尝试与服务器建立连接
3. 连接成功后尝试向需要验证的邮箱发送邮件
4. 根据返回结果判定邮箱地址的真实性

### 2.3 POP3/IMAP 邮件接收协议

**POP3 和 IMAP 两者都是负责邮件接收的协议**。

### 2.4 FTP 文件传输协议

**FTP 协议** 主要提供文件传输服务，基于 TCP 实现可靠的传输。使用 FTP 传输文件的好处是可以屏蔽操作系统和文件存储方式。